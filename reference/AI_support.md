# 内容校核与一致性验证
• **信息抽取自动化：**利用AI和规则引擎，对文档中的关键字段进行自动识别和提取。系统内置对多种格式的解析能力，包括Office文档、PDF、扫描图像等，通过OCR和NLP技术提取文字和结构 。
> 例如，一份合同评审文档生成后，系统可自动提取其中的合同金额、签约日期、合同编号等关键信息，以结构化数据形式显示在文档侧边栏，供审阅者快速查阅核对 。对于未明确标记的内容，系统也会尝试智能识别常见模式（如日期、邮箱、身份证号等）并提醒用户确认。通过自动抽取，减少了人工翻找重要数据的工作，也为后续一致性检查奠定基础。

• **段落冲突检测**：在长周期、多版本演进的文档中，不同部分可能出现内容冲突或重复。组件提供智能的冲突检测工具，扫描文档内部甚至跨相关文档，找出相似或矛盾的段落。
> 例如，同一政策在两个不同文档版本中措辞不一致、或某技术规范在不同手册中存在冲突陈述，系统将发出警示。检测方式包括文本相似度匹配和预定义规则比对。当发现疑似冲突时，会列出冲突段落、来源及建议的处理方式（如以最新版本为准）。这在多人并行编辑或文档分叉合并时特别有用，帮助团队及时解决内容不一致的问题，保证知识库内部的一致性和准确性。

• **引用合规性校验**：针对文档之间的引用关系，组件会定期或在提交时执行一致性校验。确保被引用内容与引用呈现的一致，包括格式、结构、命名等方面。
>例如，若源文档对某章节改了标题，引用处是否也应更新标题以保持一致？又如，引用的是一个表格片段，源表结构调整后引用处是否需要同步？系统将自动比对源和目标在格式上的差异，列出需要人工确认的事项。另一个校验是引用权限：如果某文档包含来自权限更高的文档片段，系统会检查当前读者是否有权限查看源内容，避免信息泄露。通过这些合规性校验，组件保证了跨文档引用的严谨，防止因内容不同步或权限误设带来的风险。

•**校核工作流**：在内容定稿或发布前，可以引入专家审阅的校核流程。
例如对于技术规范类文档，设定某些资深专家作为校对人。当文档进入“待校对”状态时，系统通知校对人前来审阅，他们可以使用特殊的校核模式添加标注和反馈（这些标注不同于普通评论，更强调修改建议）。校对完成后，反馈会汇总给文档负责人处理。针对反馈进行修改后，可再次触发专家复审，形成闭环。在校核过程中，组件也可以应用AI协助：例如自动检查术语是否统一、引用资料是否标全、排版是否符合规范等等。校核通过后，文档状态更新为“已校核”，同时进入审批发布流程。整个校核过程有明确的流转节点和责任人，大幅提高内容质量和规范性。

# 功能模块设计总览
功能名称	建议新增位置	呈现形式	交互方式
🔍 信息抽取面板	文档右侧悬浮栏或侧边栏	可折叠卡片列表（代表信息抽取的模板）	自动识别 + 手动确认
⚔️ 段落冲突检测提示	每段落下方浮动提示区	高亮 + 侧栏详情	自动识别 + 跳转对比
🔗 引用合规校验提示	页面对应字段/表格上方区域	轻提示 + 悬浮层	自动触发 + 用户确认
🧾 校核流程查看面板	页面右下角浮动面板	流程节点图 + 反馈区	手动进入 + 标注反馈

# 具体功能模块新增说明
1. 【信息抽取】功能卡片（文档右侧，页面布局中增加侧边栏模块）
📌 功能：
    基于提供的模板，自动从当前文档内容中识别模板要求的字段，如“合同编号、签约时间、金额”等；
    可供用户修改、确认、忽略；
    确认后可导出结构化数据（JSON、CSV）。

💡 实现方式：
    `<ExtractedInfoPanel title="自动提取字段">
    <Field label="合同编号" value="ABC123" editable />
    <Field label="金额" value="¥100,000" editable />
    <Field label="签署日期" value="2025-07-01" editable />
    <ButtonGroup>
        <Button>确认</Button>
        <Button>导出 JSON</Button>
    </ButtonGroup>
    </ExtractedInfoPanel>`

    💻 插入位置：
    页面右侧新增一个可展开的浮动侧边栏，保持现有样式：白底 + 圆角 + 阴影；或者点击右上角“增强版”旁增加按钮：“AI抽取”。

2. 【段落冲突检测】（在段落块下方显示提示）
📌 功能：
    系统自动检测段落间是否存在“措辞冲突、描述重复、定义不一致”等问题；
    直接在冲突段落下方展示“⚠ 冲突提示”文字+跳转按钮。

💡 示例 UI：
    `<Block>
    <Text>“舒服舒服水电费是的防守打法四大分三大”</Text>
    <ConflictTag>⚠ 与版本V1.2冲突，点此查看</ConflictTag>
    </Block>`
💻 插入方式：
    与内容块并排渲染；
    也可以在段落右上角显示 conflict 图标，点击展开冲突详情。

3. 【引用合规性校验提示】
📌 功能：
    检查引用的段落是否与源文档同步；
    如果标题、表格字段发生变化，会提示用户“引用不同步”；
    如权限不足，也提示“引用内容不可见”。

💡 插入方式：
    对于引用型块（ReferenceBlock），在其下方或右上角显示小图标：

    `<ReferenceBlock title="引用章节A">
    <Tooltip content="引用章节标题已变更">
        <WarningIcon />
    </Tooltip>
    </ReferenceBlock>`
4. 【校核工作流显示区域】
📌 功能：
    显示当前校核流程节点、责任人、审核状态；
    校对人可以输入反馈；
    审核通过后，文档状态变为“已校核”。

💡 插入方式：
    页面右下角新增浮动入口按钮：“校核流程”
    点击后弹出侧边对话框，展示如：

    <AuditFlow>
    <Step title="提交校核" status="done" user="张三" />
    <Step title="专家审阅" status="in_progress" user="李四" />
    <Step title="反馈处理" status="pending" />
    </AuditFlow>
📐 三、建议新增组件分布
区域	新增内容
顶部按钮区	➕“AI抽取”、“校核流程” 按钮
文本内容块下方	段落冲突提示、引用不同步提示
页面右下角浮动区	校核流程入口、提取字段导出按钮
页面右侧悬浮侧边栏	“信息抽取字段”模块，确认+导出操作

